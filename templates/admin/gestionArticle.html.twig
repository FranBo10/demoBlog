{% extends "base.html.twig" %}

{% block title %}Gestion d'Articles
{% endblock %}

{% block body %}
	{% for message in app.flashes('success') %}
		<div class="alert alert-success text-center w-50 mx-auto my-2">{{message}}</div>
	{% endfor %}

	<div class="container">
		<h1 class="text-center my-4">Gestion des articles</h1>
		<a href="{{ path('admin_article_new') }}" class="btn btn-info mb-3">
			Ajouter un article</a>
		<table class="table table-dark">
			<thead>
				{% for data in colonnes %}
					<th class="text-center">{{ data }}</th>
				{% endfor %}
				<th>Category</th>
				<th>Options</th>
			</thead>
		</tr>
	</thead>
	<tbody>
		{% for article in articles %}
			<tr>
				<th>{{article.id}}</th>
				<th>{{article.title}}</th>
				<th>
					<img src="{{article.image}}" alt="image" width="50">
				</th>
				<th>{{article.content|slice(1, 100)}}</th>
				<th>{{article.createdAt|date('d/m/Y Ã  H:i:s')}}</th>
				<th>{{article.category.title}}</th>
				<th>
					<a href="{{path('admin_article_edit', {id: article.id}) }}" class="text-warning">
						<i class="fa fa-edit"></i>
					</a>
					<a href="{{path('admin_article_delete', {id: article.id}) }}" class="text-danger">
						<i class="fa fa-trash"></i>
					</a>
				</th>
			</tr>
		{% endfor %}
	</tbody>
</table></div>{% endblock %}
